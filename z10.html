<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>โซ ุฒูุงุฑุฉ ุฃุฆูุฉ ุงูุจููุน ุนูููู ุงูุณูุงู</title>

    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        /* ุฅุนุฏุงุฏุงุช ุนุงูุฉ */
        
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background: #252525;
            /* ุฎูููุฉ ุฏุงููุฉ ุฌุฏุงู (ุชุฑุงุจูุฉ) */
            color: #ccc;
            font-family: 'Tajawal', sans-serif;
            text-align: center;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding-top: 0;
            opacity: 0;
            transition: opacity 1s ease;
        }
        
        body.loaded {
            opacity: 1;
        }
        /* ุฑุฃุณ ุงูุตูุญุฉ */
        
        .header {
            padding: 30px 20px 20px;
            background: linear-gradient(135deg, #1a1a1a, #333333);
            border-bottom: 5px solid #a3a3a3;
            /* ุฑูุงุฏู ูุงุชุญ ูุฑูุฒูุฉ ุงููุจูุฑ ุงูููุฏูุฉ */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.7);
            margin-bottom: 30px;
        }
        
        .header h2 {
            margin: 0;
            font-size: 2.5em;
            color: #f1c40f;
            /* ููู ุฐูุจู ููููุฑ ูุงููุฑุงูุฉ */
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            font-weight: 800;
        }
        /* ุญุงููุฉ ุงููุญุชูู ุงูุฑุฆูุณู */
        
        .main-content {
            flex-grow: 1;
            padding: 20px;
            max-width: 850px;
            margin: 0 auto;
        }
        /* ุงูุชูููู */
        
        .calendar {
            margin: 20px auto 40px;
            padding: 15px;
            font-size: 1.1em;
            color: #fff;
            border-radius: 10px;
            background-color: rgba(163, 163, 163, 0.15);
            /* ููู ุฑูุงุฏู ุฎููู */
            max-width: 90%;
            line-height: 1.7;
        }
        /* ุตูุฏูู ุงูุฏุนุงุก ุงูุนุงู */
        
        .dua-box {
            background: #363636;
            border: 2px solid #a3a3a3;
            /* ุญุฏูุฏ ุฑูุงุฏูุฉ */
            border-radius: 15px;
            padding: 30px 25px;
            margin: 25px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            text-align: justify;
        }
        /* ุงูุนูุงููู ุงูุฏุงุฎููุฉ ููุชูุณูู */
        
        .dua-box h3 {
            color: #a3a3a3;
            /* ุฑูุงุฏู ุญุฒูู */
            font-size: 1.8em;
            margin-top: 30px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px dashed #a3a3a3;
            text-align: right;
            font-weight: 700;
        }
        /* ุชูุณูู ูุต ุงูุฒูุงุฑุฉ ูุฒูุงุฏุฉ ุงููุฑุงุกุฉ */
        
        .dua-box p {
            font-size: 1.25em;
            line-height: 2.3em;
            margin: 25px 0;
            padding: 0 10px;
            color: #f5f5f5;
            text-align: justify;
        }
        /* ุชูููู ุฅุฑุดุงุฏุงุช ุงููุต */
        
        .dua-instruction {
            display: block;
            margin-top: 25px;
            margin-bottom: 15px;
            color: #f1c40f;
            /* ุฐูุจู ููุฅุฑุดุงุฏ */
            font-size: 1.1em;
            font-style: italic;
            border-right: 3px solid #f1c40f;
            padding-right: 10px;
            text-align: right;
        }
        /* ุชุธููู ููุฑุงุช ุงูุญุฒู */
        
        .sadness {
            background-color: rgba(163, 163, 163, 0.05);
            border-left: 5px solid #a3a3a3;
            padding-left: 15px;
        }
        /* ุฃุฒุฑุงุฑ ุงูุชููู */
        
        .nav-buttons {
            margin-top: 40px;
            margin-bottom: 20px;
        }
        
        .back-btn,
        .home-btn {
            margin: 10px;
            text-decoration: none;
            color: #1a1a1a;
            background: #a3a3a3;
            /* ููู ุฑูุงุฏู */
            padding: 14px 28px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: 700;
            transition: all 0.3s ease;
            display: inline-block;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .back-btn:hover {
            background-color: #8f8f8f;
        }
        
        .home-btn {
            background-color: #5d5d81;
            color: #fff;
        }
        
        .home-btn:hover {
            background-color: #4a4a6b;
        }
        /* ุชุฐููู ุงูุตูุญุฉ */
        
        footer {
            margin-top: auto;
            padding: 15px 0;
            background-color: #1a1a1a;
            color: #888;
            font-size: 0.9em;
            border-top: 1px solid #444;
        }
        
        footer a {
            color: #a3a3a3;
            text-decoration: none;
        }
    </style>
</head>

<body class="hidden">

    <div class="header">
        <h2>โซ ุฒูุงุฑุฉ ุฃุฆูุฉ ุงูุจููุน ุนูููู ุงูุณูุงู</h2>
        <h4 style="color: #ccc; margin-top: 5px;">ุงูุญุณูุ ุฒูู ุงูุนุงุจุฏููุ ุงูุจุงูุฑุ ุงูุตุงุฏู</h4>
    </div>

    <div class="main-content">

        <div class="calendar" id="calendar">
            ุฌุงุฑู ูุญุงููุฉ ุชุญููู ุงูุชุงุฑูุฎ...
        </div>

        <div class="dua-box">
            <h3 style="margin-top: 0;"><i class="fa-solid fa-moon"></i> ุงูุฒูุงุฑุฉ ุงูุฌุงูุนุฉ (ุงููุดููุฑุฉ)</h3>
            <p class="dua-instruction">
                ุชููู ุนูุฏ ูุจูุฑูู ูู ุงูุจููุน ุฃู ูู ุจุนุฏ ูุฃูุช ูุณุชูุจู ุงููุจูุฉ:
            </p>
            <p>
                ุงูุณูููุงููู ุนููููููููู ุฃูุฆููููุฉู ุงููููุฏููุ ุงูุณูููุงููู ุนููููููููู ููุง ุฃููููู ุงูุชูููููููุ ุงูุณูููุงููู ุนููููููููู ุฃููููููุง ุงููุญูุฌูุฌู ุนูููู ุฃููููู ุงูุฏููููููุงุ ุงูุณูููุงููู ุนููููููููู ุฃููููููุง ุงูููููููุงูู ููู ุงููุจูุฑููููุฉู ุจูุงููููุณูุทู.
            </p>
            <p>
                ุงูุณูููุงููู ุนููููููููู ููุง ุขูู ุฑูุณูููู ุงููููฐููุ ุฃูุดูููุฏู ุฃูููููููู ุตูููููุฉู ุงููููฐูู ููุฎูููุฑูุชูููุ ููุฃูููููููู ุฎูุฒููุงูู ุงููุนูููููุ ููุญูููุธูุฉู ุงูุณููุฑููุ ููููุฑูุซูุฉู ุงูุฃูููุจูููุงุกูุ ููุฃูููููููู ููุฏู ุจููููุบูุชููู ุนููู ุงููููฐูู ููุง ุฃูููุฑููููู ุจููู.
            </p>

            <h3><i class="fa-solid fa-cloud-sun"></i> ุงูุณูุงู ุนูู ุงูุฅูุงู ุงูุญุณู (ุน)</h3>
            <p>
                ุงูุณูููุงููู ุนููููููู ููุง ุงุจููู ุฑูุณูููู ุงููููฐููุ ุงูุณูููุงููู ุนููููููู ููุง ุงุจููู ุณููููุฏู ุงููููุตูููููููุ ุงูุณูููุงููู ุนููููููู ุฃููููููุง ุงูุฅูููุงูู ุงููุจูุฑูู ุงูุชูููููููุ ุฃูุดูููุฏู ุฃูููููู ููุฏู ุจููููุบูุชู ููููุตูุญูุชู ููุฌูุงููุฏูุชูุ ููุฌูุฒูุงูู ุงููููฐูู ุนููู ุงูุฅูุณููุงููู
                ููุฃููููููู ุฎูููุฑู ุงููุฌูุฒูุงุกู.
            </p>

            <h3><i class="fa-solid fa-user-shield"></i> ุงูุณูุงู ุนูู ุงูุฅูุงู ุฒูู ุงูุนุงุจุฏูู (ุน)</h3>
            <p>
                ุงูุณูููุงููู ุนููููููู ููุง ุงุจููู ุฑูุณูููู ุงููููฐููุ ุงูุณูููุงููู ุนููููููู ููุง ุงุจููู ุณููููุฏู ุงููุนูุงุจูุฏููููุ ุงูุณูููุงููู ุนููููููู ููุง ุงุจููู ุฎูููุฑูุฉู ุงููููุงุฑูุซููููุ ุฃูุดูููุฏู ุฃูููููู ููุฏู ุฃูููููุชู ุงูุตูููุงูุฉู ููุขุชูููุชู ุงูุฒููููุงุฉูุ ููุฃูููุฑูุชู ุจูุงููููุนูุฑูููู ููููููููุชู
                ุนููู ุงููููููููุฑู.
            </p>

            <h3><i class="fa-solid fa-book"></i> ุงูุณูุงู ุนูู ุงูุฅูุงู ุงูุจุงูุฑ (ุน)</h3>
            <p>
                ุงูุณูููุงููู ุนููููููู ููุง ุจูุงููุฑู ุนููููู ุงููููุจูููููููุ ุงูุณูููุงููู ุนููููููู ููุง ููุงุฑูุซู ุนููููู ุงููุฃููููููููู ููุงููุขุฎูุฑููููุ ุงูุณูููุงููู ุนููููููู ุฃููููููุง ุงูุตููุงุฏููู ุงูุตููุฏูููููุ ุฃูุดูููุฏู ุฃูููููู ููุฏู ุจููููููุชู ููููุถููุญูุชูุ ููุฃูุธูููุฑูุชู ุงููุญูููู ููููููุชู
                ุฎูููุฑู ุงููุนูุงููููููู.
            </p>

            <h3><i class="fa-solid fa-people-carry-box"></i> ุงูุณูุงู ุนูู ุงูุฅูุงู ุงูุตุงุฏู (ุน)</h3>
            <p>
                ุงูุณูููุงููู ุนููููููู ููุง ุฌูุนูููุฑู ุจููู ููุญููููุฏูุ ุฃููููููุง ุงูุตููุงุฏููู ุงููุจูุฑูู ุงูุฃููููููุ ุงูุณูููุงููู ุนููููููู ุฃููููููุง ุงูุทููุงููุฑู ุงููููุทููููุฑูุ ุฃูุดูููุฏู ุฃูููููู ููุฏู ุฃูููููุชู ุงููุญูุฌููุฉูุ ููุฃูุฏููููุชู ุงููุฃูููุงููุฉูุ ููููุตูุญูุชู ููุฃููููุชููู.
            </p>

            <h3><i class="fa-solid fa-sad-tear"></i> ุฏุนุงุก ุงูุญุฒู ูุงูุชุจุฑู</h3>
            <p class="sadness">
                ุงููููููููู ุฅููููู ุฃูุชูููุฑููุจู ุฅููููููู ุจูุงููุจูุฑูุงุกูุฉู ูููู ุฃูุนูุฏูุงุฆูููููุ ููุงููุฅูุฎููุงูุตู ูููููุงููุชูููููุ ููุงููุฅูููุฑูุงุฑู ุจูููุถูููููููุ ููุงููุฃูุฎูุฐู ุจูููุง ุฃูููุฌูุจูุชู ุนูููููููุง ููู ุฐููููู.
            </p>
            <p class="sadness">
                ุงููููููููู ุงููุนููู ูููู ููุฏููู ููุจููุฑููููู ูููููู ุฃูุณููุณู ุฐูููููุ ููุงููููููููู ุถูุงุนููู ุนููููููููู ุงููุนูุฐูุงุจู ุงููุฃููููููุ ููุงุฌูุนููู ููููุจูู ููุญูุจูุงู ูููููู ููููุดููุนูุชูููููุ ููููุจูุบูุถุงู ููุฃูุนูุฏูุงุฆููููู ูููููููู ุธููููููููู.
            </p>
            <p class="source">
                ุงููุตุฏุฑ: ููุงุชูุญ ุงูุฌูุงู (ููู ุฒูุงุฑุฉ ุฌุงูุนุฉ ููู).
            </p>
        </div>


        <div class="nav-buttons">
            <a href="ziyarat.html" class="back-btn"><i class="fa-solid fa-list-ul"></i> ุงูุฑุฌูุน ููุณู ุงูุฒูุงุฑุงุช</a>
            <a href="index.html" class="home-btn"><i class="fa-solid fa-house"></i> ุงูุฐูุงุจ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
        </div>
    </div>

    <footer>
        <p>ุญููู ุงููุดุฑ &copy; <a href="#">ูููุน ููุฌ ุงูุดูุนุฉ</a> 2025</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.body.classList.add('loaded');
        });

        window.onload = function() {
            const calendarDiv = document.getElementById('calendar');
            const today = new Date();

            // 1. ุญุณุงุจ ูุนุฑุถ ุงูุชุงุฑูุฎ ุงููุญูู ุงูููุฑู (ูุชุญููู ุณุฑูุน)
            const gregorianDate = today.toLocaleDateString('ar-EG', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            const hijriDateFallback = new Intl.DateTimeFormat('ar-SA', {
                calendar: 'islamic',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            }).format(today);

            // ุงูุนุฑุถ ุงูููุฑู ููุชุงุฑูุฎ ุงูุชูุฏูุฑู
            calendarDiv.innerHTML =
                `๐ ุงูุชุงุฑูุฎ ุงููููุงุฏู: ${gregorianDate} <br> 
                ๐ ุงูุชุงุฑูุฎ ุงููุฌุฑู (ุชูุฏูุฑู): <strong>${hijriDateFallback}</strong> <br>
                <small>ุฌุงุฑู ูุญุงููุฉ ุชุญุฏูุซ ุงูุชุงุฑูุฎ ูู ูุตุฏุฑู...</small>`;


            // 2. ูุญุงููุฉ ุฌูุจ ุงูุชุงุฑูุฎ ูู ูููุน ุงูุณูุณุชุงูู ูู ุงูุฎูููุฉ
            const proxyUrl = 'https://api.allorigins.win/get?url=';
            const targetUrl = encodeURIComponent('https://www.sistani.org');

            fetch(proxyUrl + targetUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('ูุดู ุงูุงุชุตุงู ุจุงูุฎุงุฏู ุงููุณูุท');
                    }
                    return response.json();
                })
                .then(data => {
                    const htmlContent = data.contents;
                    // ุงูุชุนุจูุฑ ุงูููุทู ููุจุญุซ ุนู ุงูุชุงุฑูุฎ ุงููุฌุฑู
                    const regex = /style="margin-left:9px;">([^<]+)<\/span>/;
                    const match = htmlContent.match(regex);

                    let hijriDateFromSistani;

                    if (match && match[1]) {
                        // 3. ุชุญุฏูุซ ุงูุชุงุฑูุฎ ุจูุฌุฑุฏ ุงูุญุตูู ุนูู ุงูุชุงุฑูุฎ ุงูุตุญูุญ
                        hijriDateFromSistani = match[1].trim();

                        calendarDiv.innerHTML =
                            `๐ ุงูุชุงุฑูุฎ ุงููููุงุฏู: ${gregorianDate} <br> 
                            ๐ ุงูุชุงุฑูุฎ ุงููุฌุฑู (ุงููุฑุฌุน): <strong>${hijriDateFromSistani}</strong>`;
                    } else {
                        throw new Error('ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุชุงุฑูุฎ ุจุงูุตูุบุฉ ุงููุญุฏุฏุฉ.');
                    }
                })
                .catch(error => {
                    console.error("ุฎุทุฃ ูู ุฌูุจ ุงูุชุงุฑูุฎ:", error);
                    // ูู ุญุงู ุงููุดูุ ูุธูุฑ ุฑุณุงูุฉ ุฎุทุฃ ุตุบูุฑุฉ ุฃุณูู ุงูุชุงุฑูุฎ ุงูุชูุฏูุฑู
                    calendarDiv.innerHTML =
                        `๐ ุงูุชุงุฑูุฎ ุงููููุงุฏู: ${gregorianDate} <br> 
                        ๐ ุงููุฌุฑู (ุชูุฏูุฑู): <strong>${hijriDateFallback}</strong> <br>
                        <small style="color:#ff6666; display:block; margin-top:5px;">โ๏ธ ูุดู ุฌูุจ ุชุงุฑูุฎ ุงููุฑุฌุน.</small>`;
                });
        };
    </script>
</body>

</html>