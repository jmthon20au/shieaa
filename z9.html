<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>๐ธ ุฒูุงุฑุฉ ูุงุทูุฉ ุงูุฒูุฑุงุก ุนูููุง ุงูุณูุงู</title>

    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        /* ุฅุนุฏุงุฏุงุช ุนุงูุฉ */
        
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background: #2b3042;
            /* ุฎูููุฉ ุฏุงููุฉ ูุงุฆูุฉ ููุฒุฑูุฉ */
            color: #ddd;
            font-family: 'Tajawal', sans-serif;
            text-align: center;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding-top: 0;
            opacity: 0;
            transition: opacity 1s ease;
        }
        
        body.loaded {
            opacity: 1;
        }
        /* ุฑุฃุณ ุงูุตูุญุฉ */
        
        .header {
            padding: 30px 20px 20px;
            background: linear-gradient(135deg, #1f2334, #3a4055);
            border-bottom: 5px solid #d8bfd8;
            /* ุจููุณุฌู ูุงุชุญ/ูุฑุฏู ููุชุนุจูุฑ ุนู ููุงููุง */
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            margin-bottom: 30px;
        }
        
        .header h2 {
            margin: 0;
            font-size: 2.5em;
            color: #f0f0f0;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            font-weight: 800;
        }
        /* ุญุงููุฉ ุงููุญุชูู ุงูุฑุฆูุณู */
        
        .main-content {
            flex-grow: 1;
            padding: 20px;
            max-width: 850px;
            margin: 0 auto;
        }
        /* ุงูุชูููู */
        
        .calendar {
            margin: 20px auto 40px;
            padding: 15px;
            font-size: 1.1em;
            color: #fff;
            border-radius: 10px;
            background-color: rgba(216, 191, 216, 0.15);
            /* ููู ุฎููู */
            max-width: 90%;
            line-height: 1.7;
        }
        /* ุตูุฏูู ุงูุฏุนุงุก ุงูุนุงู */
        
        .dua-box {
            background: #363c4f;
            border: 2px solid #d8bfd8;
            /* ุญุฏูุฏ ุจููุณุฌูุฉ ูุงุชุญุฉ */
            border-radius: 15px;
            padding: 30px 25px;
            margin: 25px 0;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            text-align: justify;
        }
        /* ุงูุนูุงููู ุงูุฏุงุฎููุฉ ููุชูุณูู */
        
        .dua-box h3 {
            color: #ffd700;
            /* ููู ุฐูุจู */
            font-size: 1.8em;
            margin-top: 30px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px dashed #d8bfd8;
            text-align: right;
            font-weight: 700;
        }
        /* ุชูุณูู ูุต ุงูุฒูุงุฑุฉ ูุฒูุงุฏุฉ ุงููุฑุงุกุฉ */
        
        .dua-box p {
            font-size: 1.25em;
            line-height: 2.3em;
            margin: 25px 0;
            padding: 0 10px;
            color: #f5f5f5;
            text-align: justify;
        }
        /* ุชูููู ุฅุฑุดุงุฏุงุช ุงููุต */
        
        .dua-instruction {
            display: block;
            margin-top: 25px;
            margin-bottom: 15px;
            color: #e91e63;
            /* ูุฑุฏู ุบุงูู ููุฅุฑุดุงุฏ */
            font-size: 1.1em;
            font-style: italic;
            border-right: 3px solid #e91e63;
            padding-right: 10px;
            text-align: right;
        }
        /* ุฃุฒุฑุงุฑ ุงูุชููู */
        
        .nav-buttons {
            margin-top: 40px;
            margin-bottom: 20px;
        }
        
        .back-btn,
        .home-btn {
            margin: 10px;
            text-decoration: none;
            color: #1a1a1a;
            background: #d8bfd8;
            /* ููู ุงูุฒูุงุฑุฉ */
            padding: 14px 28px;
            border-radius: 50px;
            font-size: 1.2em;
            font-weight: 700;
            transition: all 0.3s ease;
            display: inline-block;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .back-btn:hover {
            background-color: #c0a8c0;
        }
        
        .home-btn {
            background-color: #5d5d81;
            color: #fff;
        }
        
        .home-btn:hover {
            background-color: #4a4a6b;
        }
        /* ุชุฐููู ุงูุตูุญุฉ */
        
        footer {
            margin-top: auto;
            padding: 15px 0;
            background-color: #1f2334;
            color: #888;
            font-size: 0.9em;
            border-top: 1px solid #444;
        }
        
        footer a {
            color: #d8bfd8;
            text-decoration: none;
        }
    </style>
</head>

<body class="hidden">

    <div class="header">
        <h2>๐ธ ุฒูุงุฑุฉ ูุงุทูุฉ ุงูุฒูุฑุงุก ุนูููุง ุงูุณูุงู</h2>
        <h4 style="color: #ccc; margin-top: 5px;">ุณูุฏุฉ ูุณุงุก ุงูุนุงูููู</h4>
    </div>

    <div class="main-content">

        <div class="calendar" id="calendar">
            ุฌุงุฑู ูุญุงููุฉ ุชุญููู ุงูุชุงุฑูุฎ...
        </div>

        <div class="dua-box">
            <h3 style="margin-top: 0;"><i class="fa-solid fa-cloud-moon"></i> ุงูุฒูุงุฑุฉ ุงููุดููุฑุฉ</h3>
            <p class="dua-instruction">
                ุชููู ุนูุฏ ุงููุจุฑ (ุฃู ุงูุฅููุงุก ุฅููู ุฅุฐุง ููุช ุจุนูุฏุงู):
            </p>
            <p>
                ููุง ููููุชูุญูููุฉู ุงููุชูุญููููู ุงููููฐูู ุงูููุฐูู ุฎููููููู ููุจููู ุฃููู ููุฎูููููููุ ููููุฌูุฏููู ููููุง ุงููุชูุญููููู ุตุงุจูุฑูุฉูุ ููุฒูุนูููููุง ุฃููููุง ูููู ุฃููููููุงุกู ููููุตูุฏูููููููุ ููุตุงุจูุฑูููู ููููููู ูุง ุฃูุชุงูุง ุจููู ุฃูุจูููู ุตููููู ุงููููฐูู ุนููููููู ููุขูููู ููููุตููููููุ
                ููุฅููููุง ููุณูุฃููููู ุฅููู ูููููุง ุตูุฏูููููุงูู ุฅููููุง ุฃูููุญูููุชููุง ุจูุชูุตูุฏูููููุง ูููููุง ููููุจูุดููุฑู ุฃูููููุณููุง ุจูุฃููููุง ููุฏู ุทูููุฑููุง ุจููููุงููุชููู.
            </p>

            <h3><i class="fa-solid fa-hand-holding-heart"></i> ุตูุบุฉ ุฃุฎุฑู ููุฒูุงุฑุฉ</h3>
            <p class="dua-instruction">
                ุตูุบุฉ ุฃุฎุฑู ูุฑููุฉ ุนู ุงูุฅูุงู ุงูุฑุถุง (ุน):
            </p>
            <p>
                ุงูุณูููุงููู ุนููููููู ููุง ุจูููุชู ุฑูุณูููู ุงููููฐููุ ุงูุณูููุงููู ุนููููููู ููุง ุจูููุชู ููุจูููู ุงููููฐููุ ุงูุณูููุงููู ุนููููููู ููุง ุจูููุชู ุญูุจููุจู ุงููููฐููุ ุงูุณูููุงููู ุนููููููู ููุง ุจูููุชู ุฎูููููู ุงููููฐููุ ุงูุณูููุงููู ุนููููููู ููุง ุจูููุชู ุตูููููู ุงููููฐููุ ุงูุณูููุงููู
                ุนููููููู ููุง ุจูููุชู ุฃูููููู ุงููููฐููุ ุงูุณูููุงููู ุนููููููู ููุง ุจูููุชู ุฎูููุฑู ุฎููููู ุงููููฐููุ ุงูุณูููุงููู ุนููููููู ููุง ุณููููุฏูุฉู ููุณุงุกู ุงููุนูุงููููููู ูููู ุงูุฃููููููููู ููุงูุขุฎูุฑูููู.
            </p>
            <p>
                ุงูุณูููุงููู ุนููููููู ููุง ุฒูููุฌูุฉู ููููููู ุงููููฐูู ููุฎูููุฑู ุงููุฎููููู ุจูุนูุฏู ุฑูุณูููู ุงููููฐููุ ุงูุณูููุงููู ุนููููููู ููุง ุฃูููู ุงููุญูุณููู ููุงููุญูุณููููู ุณููููุฏููู ุดูุจูุงุจู ุฃููููู ุงููุฌููููุฉูุ ุงูุณูููุงููู ุนููููููู ุฃููููุชูููุง ุงูุตููุฏูููููุฉู ุงูุดูููููุฏูุฉูุ ุงูุณูููุงููู
                ุนููููููู ุฃููููุชูููุง ุงูุฑููุถููููุฉู ุงููููุฑูุถููููุฉูุ ุงูุณูููุงููู ุนููููููู ุฃููููุชูููุง ุงููููุงุถูููุฉู ุงูุฒูููููููุฉู.
            </p>

            <h3><i class="fa-solid fa-lightbulb"></i> ุทูุจ ุงูุซุจุงุช ูุงูุดูุงุนุฉ</h3>
            <p>
                ุงููููููููู ุตูููู ุนูููู ููุญููููุฏู ููุขูู ููุญููููุฏูุ ููุงุฌูุนููู ุตูููููุงุชููู ููุตูููููุงุชู ูููุงุฆูููุชููู ููุฑูุณููููู ุนูููููููุง ููุนูููู ุฃูุจููููุง ููุจูุนูููููุง ููููููุฏูููุง ุงูุฃูุฆููููุฉู ุงูุทููุงููุฑูููู.
            </p>
            <p>
                ุงููููููููู ุฅููููุง ููุชูููุฌูููู ุจูููุง ููุจูุฃูุจููููุง ููุจูุนูููููุง ููููููุฏูููุง ุฅููููููู ููู ููุฐูุง ุงูููููููู ููููููู ููููููุ ููููุชูููุณูููู ุจูููุง ุฅููููููู ููู ููููู ุฃูููุฑู ูููู ุฃููููุฑู ุงูุฏููููููุง ููุงูุขุฎูุฑูุฉูุ ููุฅููููุง ููุณูุฃููููู ููุง ูููููุงุชูู ููุง ููุงุทูููุฉู ุฃููู
                ุชูุดูููุนูู ููููุง ุนูููุฏู ุงููููฐููุ ููุฃููู ุชูููุฏูููููููุง ููุนููู ุฅูููู ุงููุฌููููุฉู.
            </p>
            <p class="source">
                ุงููุตุฏุฑ: ููุงุชูุญ ุงูุฌูุงู (ูููุงู ุฒูุงุฑุงุช ุฃุฎุฑู ูุชุนุฏุฏุฉ).
            </p>
        </div>


        <div class="nav-buttons">
            <a href="ziyarat.html" class="back-btn"><i class="fa-solid fa-list-ul"></i> ุงูุฑุฌูุน ููุณู ุงูุฒูุงุฑุงุช</a>
            <a href="index.html" class="home-btn"><i class="fa-solid fa-house"></i> ุงูุฐูุงุจ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
        </div>
    </div>

    <footer>
        <p>ุญููู ุงููุดุฑ &copy; <a href="#">ูููุน ููุฌ ุงูุดูุนุฉ</a> 2025</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.body.classList.add('loaded');
        });

        window.onload = function() {
            const calendarDiv = document.getElementById('calendar');
            const today = new Date();

            // 1. ุญุณุงุจ ูุนุฑุถ ุงูุชุงุฑูุฎ ุงููุญูู ุงูููุฑู (ูุชุญููู ุณุฑูุน)
            const gregorianDate = today.toLocaleDateString('ar-EG', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            const hijriDateFallback = new Intl.DateTimeFormat('ar-SA', {
                calendar: 'islamic',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            }).format(today);

            // ุงูุนุฑุถ ุงูููุฑู ููุชุงุฑูุฎ ุงูุชูุฏูุฑู
            calendarDiv.innerHTML =
                `๐ ุงูุชุงุฑูุฎ ุงููููุงุฏู: ${gregorianDate} <br> 
                ๐ ุงูุชุงุฑูุฎ ุงููุฌุฑู (ุชูุฏูุฑู): <strong>${hijriDateFallback}</strong> <br>
                <small>ุฌุงุฑู ูุญุงููุฉ ุชุญุฏูุซ ุงูุชุงุฑูุฎ ูู ูุตุฏุฑู...</small>`;


            // 2. ูุญุงููุฉ ุฌูุจ ุงูุชุงุฑูุฎ ูู ูููุน ุงูุณูุณุชุงูู ูู ุงูุฎูููุฉ
            const proxyUrl = 'https://api.allorigins.win/get?url=';
            const targetUrl = encodeURIComponent('https://www.sistani.org');

            fetch(proxyUrl + targetUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('ูุดู ุงูุงุชุตุงู ุจุงูุฎุงุฏู ุงููุณูุท');
                    }
                    return response.json();
                })
                .then(data => {
                    const htmlContent = data.contents;
                    // ุงูุชุนุจูุฑ ุงูููุทู ููุจุญุซ ุนู ุงูุชุงุฑูุฎ ุงููุฌุฑู
                    const regex = /style="margin-left:9px;">([^<]+)<\/span>/;
                    const match = htmlContent.match(regex);

                    let hijriDateFromSistani;

                    if (match && match[1]) {
                        // 3. ุชุญุฏูุซ ุงูุชุงุฑูุฎ ุจูุฌุฑุฏ ุงูุญุตูู ุนูู ุงูุชุงุฑูุฎ ุงูุตุญูุญ
                        hijriDateFromSistani = match[1].trim();

                        calendarDiv.innerHTML =
                            `๐ ุงูุชุงุฑูุฎ ุงููููุงุฏู: ${gregorianDate} <br> 
                            ๐ ุงูุชุงุฑูุฎ ุงููุฌุฑู (ุงููุฑุฌุน): <strong>${hijriDateFromSistani}</strong>`;
                    } else {
                        throw new Error('ูู ูุชู ุงูุนุซูุฑ ุนูู ุงูุชุงุฑูุฎ ุจุงูุตูุบุฉ ุงููุญุฏุฏุฉ.');
                    }
                })
                .catch(error => {
                    console.error("ุฎุทุฃ ูู ุฌูุจ ุงูุชุงุฑูุฎ:", error);
                    // ูู ุญุงู ุงููุดูุ ูุธูุฑ ุฑุณุงูุฉ ุฎุทุฃ ุตุบูุฑุฉ ุฃุณูู ุงูุชุงุฑูุฎ ุงูุชูุฏูุฑู
                    calendarDiv.innerHTML =
                        `๐ ุงูุชุงุฑูุฎ ุงููููุงุฏู: ${gregorianDate} <br> 
                        ๐ ุงููุฌุฑู (ุชูุฏูุฑู): <strong>${hijriDateFallback}</strong> <br>
                        <small style="color:#ff6666; display:block; margin-top:5px;">โ๏ธ ูุดู ุฌูุจ ุชุงุฑูุฎ ุงููุฑุฌุน.</small>`;
                });
        };
    </script>
</body>

</html>