<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“– Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© ÙˆØ§Ù„Ø²ÙŠØ§Ø±Ø§Øª - Ù†Ù‡Ø¬ Ø§Ù„Ø´ÙŠØ¹Ø©</title>

    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© */
        
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            background: #1e1e2f;
            color: #fff;
            font-family: 'Tajawal', sans-serif;
            text-align: center;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        /* Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø­Ø³Ù† */
        
        .header {
            padding: 30px 20px;
            background: linear-gradient(135deg, #161625, #2d2d44);
            border-bottom: 5px solid #f5b921;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.8em;
            color: #f5b921;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.8);
            font-weight: 800;
        }
        /* ØªØµÙ…ÙŠÙ… Ù‚Ø³Ù… Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
        
        .calendar {
            margin: 30px auto;
            max-width: 90%;
            font-size: 1.2em;
            padding: 15px;
            border: 1px solid #444;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.05);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            line-height: 1.7;
        }
        /* Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¹Ù†Ø§ØµØ± */
        
        .main-content {
            flex-grow: 1;
            padding: 40px 20px;
        }
        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        
        .sections {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 40px;
            gap: 30px;
        }
        /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‚Ø³Ù… (Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©) */
        
        .section-card {
            width: 280px;
            height: 160px;
            background: #25253e;
            border-radius: 20px;
            border: 1px solid rgba(120, 226, 143, 0.4);
            /* Ù„ÙˆÙ† Ø£Ø®Ø¶Ø± Ù„Ù„Ø£Ø¯Ø¹ÙŠØ© */
            transition: all 0.4s ease;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7);
            position: relative;
        }
        
        .section-card:hover {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(120, 226, 143, 0.3);
            background-color: #333355;
        }
        
        .section-card a {
            text-decoration: none;
            color: #fff;
            font-weight: 700;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            padding: 15px;
            font-size: 1.4em;
        }
        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª */
        
        .section-card i {
            font-size: 2.5em;
            color: #78e28f;
            /* Ù„ÙˆÙ† Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© Ø£Ø®Ø¶Ø± ÙØ§ØªØ­ */
            margin-bottom: 10px;
        }
        /* Ø²Ø± Ø§Ù„Ø±Ø¬ÙˆØ¹ Ø§Ù„Ù…Ø­Ø³Ù† */
        
        .back-btn {
            margin-top: 50px;
            display: inline-block;
            text-decoration: none;
            color: #161625;
            background: #f5b921;
            padding: 14px 35px;
            border-radius: 50px;
            font-size: 1.3em;
            font-weight: 700;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            transition: all 0.3s ease;
        }
        
        .back-btn:hover {
            background-color: #d89d1b;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
        }
        /* ØªØ°ÙŠÙŠÙ„ Ø§Ù„ØµÙØ­Ø© */
        
        .footer {
            margin-top: auto;
            padding: 20px;
            border-top: 1px solid #444;
            background-color: #161625;
            color: #888;
            font-size: 0.9em;
        }
    </style>
</head>

<body>

    <div class="header">
        <h1>ğŸ“– Ù‚Ø³Ù… Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© ÙˆØ§Ù„Ø²ÙŠØ§Ø±Ø§Øª</h1>
    </div>

    <div class="main-content">

        <div class="calendar" id="calendar">
            Ø¬Ø§Ø±ÙŠ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ®...
        </div>

        <div class="sections">

            <div class="section-card">
                <a href="duas_days.html">
                    <i class="fa-solid fa-moon"></i>
                    <span>Ø£Ø¯Ø¹ÙŠØ© Ø§Ù„Ø£ÙŠØ§Ù… ÙˆØ§Ù„Ø£ÙˆÙ‚Ø§Øª</span>
                </a>
            </div>

            <div class="section-card">
                <a href="duas_general.html">
                    <i class="fa-solid fa-hand-holding-heart"></i>
                    <span>Ø§Ù„Ø£Ø¯Ø¹ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© ÙˆØ§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©</span>
                </a>
            </div>

        </div>

        <div>
            <a class="back-btn" href="index.html">
                <i class="fa-solid fa-house"></i> Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            </a>
        </div>
    </div>

    <div class="footer">
        &copy; 2025 Ù†Ù‡Ø¬ Ø§Ù„Ø´ÙŠØ¹Ø© - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©
    </div>

    <script>
        window.onload = function() {
            const calendarDiv = document.getElementById('calendar');
            const today = new Date();

            // 1. Ø­Ø³Ø§Ø¨ ÙˆØ¹Ø±Ø¶ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø­Ù„ÙŠ Ø§Ù„ÙÙˆØ±ÙŠ (Ù„ØªØ­Ù…ÙŠÙ„ Ø³Ø±ÙŠØ¹)
            const gregorianDate = today.toLocaleDateString('ar-EG', {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            const hijriDateFallback = new Intl.DateTimeFormat('ar-SA', {
                calendar: 'islamic',
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            }).format(today);

            // Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙˆØ±ÙŠ Ù„Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ
            calendarDiv.innerHTML =
                `ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ: ${gregorianDate} <br> 
                ğŸ•Œ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ (ØªÙ‚Ø¯ÙŠØ±ÙŠ): <strong>${hijriDateFallback}</strong> <br>
                <small>Ø¬Ø§Ø±ÙŠ Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ø±ÙŠØ® Ù…Ù† Ù…ØµØ¯Ø±Ù‡...</small>`;


            // 2. Ù…Ø­Ø§ÙˆÙ„Ø© Ø¬Ù„Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® Ù…Ù† Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø³ÙŠØ³ØªØ§Ù†ÙŠ ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©
            const proxyUrl = 'https://api.allorigins.win/get?url=';
            const targetUrl = encodeURIComponent('https://www.sistani.org');

            fetch(proxyUrl + targetUrl)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ø§Ù„ÙˆØ³ÙŠØ·');
                    }
                    return response.json();
                })
                .then(data => {
                    const htmlContent = data.contents;
                    // Ø§Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ù†Ù…Ø·ÙŠ Ù„Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ
                    const regex = /style="margin-left:9px;">([^<]+)<\/span>/;
                    const match = htmlContent.match(regex);

                    let hijriDateFromSistani;

                    if (match && match[1]) {
                        // 3. ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨Ù…Ø¬Ø±Ø¯ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ØµØ­ÙŠØ­
                        hijriDateFromSistani = match[1].trim();

                        calendarDiv.innerHTML =
                            `ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ: ${gregorianDate} <br> 
                            ğŸ•Œ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ (Ø§Ù„Ù…Ø±Ø¬Ø¹): <strong>${hijriDateFromSistani}</strong>`;
                    } else {
                        throw new Error('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©.');
                    }
                })
                .catch(error => {
                    console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ®:", error);
                    // ÙÙŠ Ø­Ø§Ù„ Ø§Ù„ÙØ´Ù„ØŒ Ù†Ø¸Ù‡Ø± Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ ØµØºÙŠØ±Ø© Ø£Ø³ÙÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠ
                    calendarDiv.innerHTML =
                        `ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ: ${gregorianDate} <br> 
                        ğŸ•Œ Ø§Ù„Ù‡Ø¬Ø±ÙŠ (ØªÙ‚Ø¯ÙŠØ±ÙŠ): <strong>${hijriDateFallback}</strong> <br>
                        <small style="color:#ff6666; display:block; margin-top:5px;">âš ï¸ ÙØ´Ù„ Ø¬Ù„Ø¨ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø±Ø¬Ø¹.</small>`;
                });
        }
    </script>

</body>

</html>